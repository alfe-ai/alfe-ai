<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>eBay URL Scraper</title>
  <style>
    body {
      background:#1e1e1e;
      color:#ddd;
      font-family:sans-serif;
      padding:1rem;
    }
    textarea {
      width:100%;
      height:200px;
      background:#222;
      color:#ddd;
      border:1px solid #444;
      padding:6px;
    }
    button {
      margin-top:10px;
      padding:6px 12px;
    }
    #results a {
      color:#0bf;
      display:block;
      margin:4px 0;
    }
  </style>
</head>
<body>
  <h2>eBay URL Scraper</h2>
  <textarea id="input" placeholder="Paste text from eBay page here..."></textarea>
  <br/>
  <button id="scrapeBtn">Extract URLs</button>
  <div id="results"></div>

  <script>
  const input = document.getElementById('input');
  const results = document.getElementById('results');
  document.getElementById('scrapeBtn').addEventListener('click', () => {
    const text = input.value;
    const urls = [];
    const urlRegex = /https?:\/\/[\w.-]*ebay\.[\w.-]+\/[^\s"']+/gi;
    let match;
    while((match = urlRegex.exec(text)) !== null){
      urls.push(match[0]);
    }
    const idRegex = /\b(\d{9,})\b/g;
    const ids = new Set();
    while((match = idRegex.exec(text)) !== null){
      ids.add(match[1]);
    }
    ids.forEach(id => urls.push(`https://www.ebay.com/itm/${id}`));
    const unique = [...new Set(urls)];
    if(unique.length === 0){
      results.textContent = 'No URLs found.';
      return;
    }
    results.innerHTML = '<h3>Found URLs</h3>' + unique.map(u =>
      `<a href="${u}" target="_blank">${u}</a>`).join('');
  });
  </script>
</body>
</html>
