[... earlier HTML untouched ...]

<script>
      /* ---------------- constants ---------------- */
      const columns = [
        { key: "order", label: "P" },
        { key: "reorder", label: "â†•" },
        { key: "visibility", label: "" },
        { key: "priority", label: "Prio" },
        { key: "slug", label: "Slug" },
        { key: "repo", label: "Repo" },
        { key: "number", label: "#" },
        { key: "title", label: "Title" },
        { key: "project", label: "Project" },
        { key: "sprint", label: "Sprint" },
        { key: "points", label: "Pts" },
        { key: "assignee", label: "Assignee" },
        { key: "created", label: "Created" }
      ];
[... unchanged JS until render rows ...]

          const push = (key, html) => {
            if (!visibleCols.has(key)) return;
            cells.push(html);
          };

          /* numeric order */
          push("order", `<td>${t.priority_number}</td>`);

[... unchanged pushes ...]

          /* textual priority */
          const priorityOpts = ["Low", "Medium", "High"]
            .map(
              (p) =>
                `<option value="${p}" ${t.priority === p ? "selected" : ""}>${p}</option>`
            )
            .join("");
          push(
            "priority",
            `<td>
              <select onchange="setPriority(${t.id}, this.value)">
                ${priorityOpts}
              </select>
            </td>`
          );

[... remaining pushes unchanged ...]
      }

[... actions section ...]
      async function setPriority(id, priority) {
        await fetch("/api/tasks/priority", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ id, priority })
        });
        await loadTasks();
      }

[... expose ...]
      window.setPriority = setPriority;
    </script>
  </body>
</html>
